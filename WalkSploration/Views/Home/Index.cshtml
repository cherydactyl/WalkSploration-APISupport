
@{
    ViewBag.Title = "Walksploration";
}

<div class="jumbotron">
    <img src="~/Images/walksplorationBanner.png" style="width : 100% " />
</div>

<div class="container">
    <div class="col-md-12">
        <h2>Have a minute?</h2>
        <h4 style="padding-left: 20px;">Explore your world! Enter your available time, and we will send you to a new, exciting point of interest for you to explore.</h4>
    </div>
</div>

@using (Html.BeginForm("Index", "Home", FormMethod.Post))
{
    <form id="addStartInfo" style="background:#ffffff; border: 1px solid #000000; width: 40%; margin:0 auto; padding: 0px 12px;">

        <p> How long do you have for your walk?</p>

        <!-- Slider range for time input value = 0 sets the initial slider posiiont     the onchange command updates view in time-display span below-->
        <input type="range" min="1" max="60" step="1" value="0" onchange="showValue(this.value)" /><br />

        <!--Adds the little clock icon*                             Space Holder for minute display-->
        <p><span class="glyphicon glyphicon-time"></span>   <span id="time-display">1</span> mins </p>

        <!-- The two text input zones below are hidden, but will capture the lat and lon of the current pin dropped-->
        <input type="text" name="outLat" value="" size="40" hidden="hidden" />
        <input type="text" name="outLon" value="" size="40" hidden="hidden" />

        <button type="submit" id="addStartInfo" value="Submit" onclick="AddStartInfo(time=this.value, outlat= this.value, outLon= this.value);">Start your Walk</button>

    </form>
}

<!--Place holder for the map view -->
<h3 id="map_canvas" style="max-width: 1140px; height: 350px; border: 4px solid #5E5454;" ></h3>

<!--Begin Javascript calls-->
<!-- Referenced Files:

    function InitializeMap()        -  Lives in:    Views > Shared > _Layout.cshtml
    function handleLocationError()  -  Lives in:    Views > Shared > _Layout.cshtml
     
      -->
<script>
    

    function AddStartInfo() {

        console.log('made it to the add start info function')

        var addStartInfo = document.getElementById("addStartInfo");

        // 

        //var time = document.getElementById("time").value;
        //var outLat = position.coords.latitude;
        //var outLon = position.coords.longitude;

        var addLocationDetails = document.forms["submitStart"];

        outLat = formInfo.elements["outLat"].value;
        outLon = formInfo.elements["outLon"].value;

        outputLat.innerHTML = "<p>Latitude is " + latitude + "°</p>";
        outputLon.innerHTML = "<p>Longitude is " + longitude + "°</p>";
        
        
        // Referencing the Detroit Eatz Project - Thanks for the help guys!
        ajaxHelper('StartPlace', 'POST', (time, outLat, outLon));
    
        addStartInfo.submit();
    }

</script>


